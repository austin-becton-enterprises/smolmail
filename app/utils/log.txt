2025-06-25 14:36:09 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 14:36:09 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 14:36:09 - INFO - Fetching unread messages...
2025-06-25 14:36:09 - INFO - Fetching unread messages...
2025-06-25 14:36:10 - INFO - Read message: Subject='Test for Read and Write', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 14:36:10 - INFO - Read message: Subject='Test for Read and Write', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 14:36:10 - INFO - Retrieved 1 unread emails.
2025-06-25 14:36:10 - INFO - Retrieved 1 unread emails.
2025-06-25 14:36:11 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a86046995462c
2025-06-25 14:36:11 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a86046995462c
2025-06-25 14:36:11 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 14:36:11 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:16:26 - INFO - Fetching unread messages...
2025-06-25 15:16:26 - INFO - No unread messages found.
2025-06-25 15:16:26 - INFO - Fetching unread messages...
2025-06-25 15:16:26 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:17:11 - INFO - Fetching unread messages...
2025-06-25 15:17:11 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4331606032'> "Mocked Error">
2025-06-25 15:17:11 - INFO - Fetching unread messages...
2025-06-25 15:17:11 - INFO - No unread messages found.
2025-06-25 15:17:11 - INFO - Fetching unread messages...
2025-06-25 15:17:11 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:17:11 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:17:11 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4331603680'> "Mocked Send Error">
2025-06-25 15:17:11 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:17:17 - INFO - Fetching unread messages...
2025-06-25 15:17:17 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4375531200'> "Mocked Error">
2025-06-25 15:17:17 - INFO - Fetching unread messages...
2025-06-25 15:17:17 - INFO - No unread messages found.
2025-06-25 15:17:17 - INFO - Fetching unread messages...
2025-06-25 15:17:17 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:17:17 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:17:17 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4375528848'> "Mocked Send Error">
2025-06-25 15:17:17 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:17:57 - INFO - Fetching unread messages...
2025-06-25 15:17:57 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4373974720'> "Mocked Error">
2025-06-25 15:17:57 - INFO - Fetching unread messages...
2025-06-25 15:17:57 - INFO - No unread messages found.
2025-06-25 15:17:57 - INFO - Fetching unread messages...
2025-06-25 15:17:57 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:17:57 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:17:57 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4373972368'> "Mocked Send Error">
2025-06-25 15:17:57 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:18:27 - INFO - Fetching unread messages...
2025-06-25 15:18:27 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4330197008'> "Mocked Error">
2025-06-25 15:18:27 - INFO - Fetching unread messages...
2025-06-25 15:18:27 - INFO - No unread messages found.
2025-06-25 15:18:27 - INFO - Fetching unread messages...
2025-06-25 15:18:27 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:18:27 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:18:27 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4330194656'> "Mocked Send Error">
2025-06-25 15:18:27 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:20:06 - INFO - Fetching unread messages...
2025-06-25 15:20:06 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4361015312'> "Mocked Error">
2025-06-25 15:20:06 - INFO - Fetching unread messages...
2025-06-25 15:20:06 - INFO - No unread messages found.
2025-06-25 15:20:06 - INFO - Fetching unread messages...
2025-06-25 15:20:06 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:20:06 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:20:06 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4361012960'> "Mocked Send Error">
2025-06-25 15:20:06 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:20:13 - INFO - Fetching unread messages...
2025-06-25 15:20:13 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4361408192'> "Mocked Error">
2025-06-25 15:20:13 - INFO - Fetching unread messages...
2025-06-25 15:20:13 - INFO - No unread messages found.
2025-06-25 15:20:13 - INFO - Fetching unread messages...
2025-06-25 15:20:13 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:20:13 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:20:13 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4361405840'> "Mocked Send Error">
2025-06-25 15:20:13 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:20:25 - INFO - Fetching unread messages...
2025-06-25 15:20:25 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4373532352'> "Mocked Error">
2025-06-25 15:20:25 - INFO - Fetching unread messages...
2025-06-25 15:20:25 - INFO - No unread messages found.
2025-06-25 15:20:25 - INFO - Fetching unread messages...
2025-06-25 15:20:25 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:20:25 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:20:25 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4373528656'> "Mocked Send Error">
2025-06-25 15:20:25 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:23:13 - INFO - Fetching unread messages...
2025-06-25 15:23:13 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4344172560'> "Mocked Error">
2025-06-25 15:23:13 - INFO - Fetching unread messages...
2025-06-25 15:23:13 - INFO - No unread messages found.
2025-06-25 15:23:13 - INFO - Fetching unread messages...
2025-06-25 15:23:13 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:23:13 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:23:13 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4344170208'> "Mocked Send Error">
2025-06-25 15:23:13 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:23:34 - INFO - Fetching unread messages...
2025-06-25 15:23:34 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4365242384'> "Mocked Error">
2025-06-25 15:23:34 - INFO - Fetching unread messages...
2025-06-25 15:23:34 - INFO - No unread messages found.
2025-06-25 15:23:34 - INFO - Fetching unread messages...
2025-06-25 15:23:34 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:23:34 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:23:34 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4365240032'> "Mocked Send Error">
2025-06-25 15:23:34 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:23:58 - INFO - Fetching unread messages...
2025-06-25 15:23:58 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4338945728'> "Mocked Error">
2025-06-25 15:23:58 - INFO - Fetching unread messages...
2025-06-25 15:23:58 - INFO - No unread messages found.
2025-06-25 15:23:58 - INFO - Fetching unread messages...
2025-06-25 15:23:58 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:23:58 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:23:58 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4338943376'> "Mocked Send Error">
2025-06-25 15:23:58 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 15:24:48 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:24:48 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:24:48 - INFO - Fetching unread messages...
2025-06-25 15:24:48 - INFO - Fetching unread messages...
2025-06-25 15:24:49 - INFO - Read message: Subject='Test for Read and Write', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:24:49 - INFO - Read message: Subject='Test for Read and Write', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:24:49 - INFO - Retrieved 1 unread emails.
2025-06-25 15:24:49 - INFO - Retrieved 1 unread emails.
2025-06-25 15:24:52 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a88cd77d87d8a
2025-06-25 15:24:52 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a88cd77d87d8a
2025-06-25 15:24:52 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:24:52 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:49:32 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:32 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:32 - INFO - Fetching unread messages...
2025-06-25 15:49:32 - INFO - Fetching unread messages...
2025-06-25 15:49:32 - INFO - No unread messages found.
2025-06-25 15:49:32 - INFO - No unread messages found.
2025-06-25 15:49:32 - INFO - No unread emails found.
2025-06-25 15:49:32 - INFO - No unread emails found.
2025-06-25 15:49:35 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:35 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:35 - INFO - Fetching unread messages...
2025-06-25 15:49:35 - INFO - Fetching unread messages...
2025-06-25 15:49:35 - INFO - No unread messages found.
2025-06-25 15:49:35 - INFO - No unread messages found.
2025-06-25 15:49:35 - INFO - No unread emails found.
2025-06-25 15:49:35 - INFO - No unread emails found.
2025-06-25 15:49:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:49:55 - INFO - Fetching unread messages...
2025-06-25 15:49:55 - INFO - Fetching unread messages...
2025-06-25 15:49:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:49:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:49:56 - INFO - Retrieved 1 unread emails.
2025-06-25 15:49:56 - INFO - Retrieved 1 unread emails.
2025-06-25 15:50:04 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8a3ecb8e2f76
2025-06-25 15:50:04 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8a3ecb8e2f76
2025-06-25 15:50:04 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:50:04 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:50:19 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:50:19 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 15:50:19 - INFO - Fetching unread messages...
2025-06-25 15:50:19 - INFO - Fetching unread messages...
2025-06-25 15:50:19 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:50:19 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 15:50:19 - INFO - Retrieved 1 unread emails.
2025-06-25 15:50:19 - INFO - Retrieved 1 unread emails.
2025-06-25 15:50:24 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8a43b6d4ca93
2025-06-25 15:50:24 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8a43b6d4ca93
2025-06-25 15:50:24 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:50:24 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 15:57:33 - INFO - Fetching unread messages...
2025-06-25 15:57:33 - ERROR - Error reading email: <HttpError <MagicMock name='mock.status' id='4399763136'> "Mocked Error">
2025-06-25 15:57:33 - INFO - Fetching unread messages...
2025-06-25 15:57:33 - INFO - No unread messages found.
2025-06-25 15:57:33 - INFO - Fetching unread messages...
2025-06-25 15:57:33 - INFO - Read message: Subject='Subject msg1', From='sendermsg1@example.com'
2025-06-25 15:57:33 - INFO - Read message: Subject='Subject msg2', From='sendermsg2@example.com'
2025-06-25 15:57:33 - ERROR - Error sending email to test@example.com: <HttpError <MagicMock name='mock.status' id='4399759440'> "Mocked Send Error">
2025-06-25 15:57:33 - INFO - Email sent to test@example.com | Message ID: 123
2025-06-25 17:03:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:03:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:03:16 - INFO - Fetching unread messages...
2025-06-25 17:03:16 - INFO - Fetching unread messages...
2025-06-25 17:03:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:03:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:03:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:03:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:03:17 - INFO - Retrieved 2 unread emails.
2025-06-25 17:03:17 - INFO - Retrieved 2 unread emails.
2025-06-25 17:03:24 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e70f658e14b
2025-06-25 17:03:24 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e70f658e14b
2025-06-25 17:03:24 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:03:24 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:03:24 - ERROR - Error sending email: name 'email' is not defined
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 42, in test_send_email
    gmail_service.mark_as_read(email['id'])
                               ^^^^^
NameError: name 'email' is not defined. Did you mean: 'gmail'? Or did you forget to import 'email'?
2025-06-25 17:03:24 - ERROR - Error sending email: name 'email' is not defined
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 42, in test_send_email
    gmail_service.mark_as_read(email['id'])
                               ^^^^^
NameError: name 'email' is not defined. Did you mean: 'gmail'? Or did you forget to import 'email'?
2025-06-25 17:03:43 - INFO - Email send cancelled by user.
2025-06-25 17:03:43 - INFO - Email send cancelled by user.
2025-06-25 17:04:17 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:17 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:17 - INFO - Fetching unread messages...
2025-06-25 17:04:17 - INFO - Fetching unread messages...
2025-06-25 17:04:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:17 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:18 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:18 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:18 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:18 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:18 - ERROR - Error reading emails: test_send_email() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 25, in test_read_email
    test_send_email(gmail_service,email['From'],email['id'])
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: test_send_email() takes 2 positional arguments but 3 were given
2025-06-25 17:04:18 - ERROR - Error reading emails: test_send_email() takes 2 positional arguments but 3 were given
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 25, in test_read_email
    test_send_email(gmail_service,email['From'],email['id'])
    ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: test_send_email() takes 2 positional arguments but 3 were given
2025-06-25 17:04:30 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:30 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:30 - INFO - Fetching unread messages...
2025-06-25 17:04:30 - INFO - Fetching unread messages...
2025-06-25 17:04:31 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:31 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:31 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:31 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:31 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:31 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:34 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e821e9c7727
2025-06-25 17:04:34 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e821e9c7727
2025-06-25 17:04:34 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:04:34 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:04:34 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:04:34 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:04:34 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/me/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:04:34 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/me/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:04:40 - INFO - Email send cancelled by user.
2025-06-25 17:04:40 - INFO - Email send cancelled by user.
2025-06-25 17:04:42 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:42 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:04:42 - INFO - Fetching unread messages...
2025-06-25 17:04:42 - INFO - Fetching unread messages...
2025-06-25 17:04:42 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:42 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:42 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:42 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:04:42 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:42 - INFO - Retrieved 2 unread emails.
2025-06-25 17:04:46 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e84ea481ae2
2025-06-25 17:04:46 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e84ea481ae2
2025-06-25 17:04:46 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:04:46 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:04:46 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:04:46 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:04:46 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/me/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:04:46 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/me/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:05:02 - INFO - Email send cancelled by user.
2025-06-25 17:05:02 - INFO - Email send cancelled by user.
2025-06-25 17:05:03 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:05:03 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:05:03 - INFO - Fetching unread messages...
2025-06-25 17:05:03 - INFO - Fetching unread messages...
2025-06-25 17:05:04 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:05:04 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:05:04 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:05:04 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:05:04 - INFO - Retrieved 2 unread emails.
2025-06-25 17:05:04 - INFO - Retrieved 2 unread emails.
2025-06-25 17:05:16 - INFO - Email send cancelled by user.
2025-06-25 17:05:16 - INFO - Email send cancelled by user.
2025-06-25 17:06:13 - INFO - Email send cancelled by user.
2025-06-25 17:06:13 - INFO - Email send cancelled by user.
2025-06-25 17:06:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:06:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:06:16 - INFO - Fetching unread messages...
2025-06-25 17:06:16 - INFO - Fetching unread messages...
2025-06-25 17:06:16 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:06:16 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:06:16 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:06:16 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:06:16 - INFO - Retrieved 2 unread emails.
2025-06-25 17:06:16 - INFO - Retrieved 2 unread emails.
2025-06-25 17:06:23 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e9c8b1d9702
2025-06-25 17:06:23 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e9c8b1d9702
2025-06-25 17:06:23 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:06:23 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:06:23 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:06:23 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:06:23 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a44ff76d147/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:06:23 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a44ff76d147/messages/197a8a44ff76d147/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:06:32 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e9ee7bc58d3
2025-06-25 17:06:32 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8e9ee7bc58d3
2025-06-25 17:06:32 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:06:32 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:06:32 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:06:32 - WARNING - Encountered 403 Forbidden with reason "insufficientPermissions"
2025-06-25 17:06:32 - ERROR - Failed to mark message 197a8a38fe8d6661 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a38fe8d6661/messages/197a8a38fe8d6661/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:06:32 - ERROR - Failed to mark message 197a8a38fe8d6661 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a38fe8d6661/messages/197a8a38fe8d6661/modify?alt=json returned "Request had insufficient authentication scopes.". Details: "[{'message': 'Insufficient Permission', 'domain': 'global', 'reason': 'insufficientPermissions'}]">
2025-06-25 17:07:40 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:07:40 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:07:40 - INFO - Fetching unread messages...
2025-06-25 17:07:40 - INFO - Fetching unread messages...
2025-06-25 17:07:40 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:07:40 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:12:44 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:12:44 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:12:44 - INFO - Fetching unread messages...
2025-06-25 17:12:44 - INFO - Fetching unread messages...
2025-06-25 17:12:44 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:12:44 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:13:09 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:13:09 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:13:09 - INFO - Fetching unread messages...
2025-06-25 17:13:09 - INFO - Fetching unread messages...
2025-06-25 17:13:09 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:13:09 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:14:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:14:16 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:14:16 - INFO - Fetching unread messages...
2025-06-25 17:14:16 - INFO - Fetching unread messages...
2025-06-25 17:14:16 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:14:16 - ERROR - Error reading emails: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    emails = gmail_service.read_most_recent_emails()
  File "/Users/aditya/Desktop/project/smolmail/app/core/gmail_facade.py", line 46, in read_most_recent_emails
    ).execute()
      ~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google_auth_httplib2.py", line 209, in request
    self.credentials.before_request(self._request, method, uri, request_headers)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 239, in before_request
    self._blocking_refresh(request)
    ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/auth/credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
    ~~~~~~~~~~~~^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
        ~~~~~~~~~~~~~~~~~~~~^
        request,
        ^^^^^^^^
    ...<6 lines>...
        enable_reauth_refresh=self._enable_reauth_refresh,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/google/oauth2/_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
        error_details, response_data, retryable=retryable_error
    )
google.auth.exceptions.RefreshError: ('invalid_scope: Bad Request', {'error': 'invalid_scope', 'error_description': 'Bad Request'})
2025-06-25 17:14:56 - INFO - "GET /?state=M52s4naHbg9cLJciJDsXxnW0r2DzlA&code=4/0AVMBsJgQr6hqoIoU7oR114rp5ouSfJ1pv_eRzxN8acl0Q__Oz7OerD6d_A_A_r5ZzajKOA&scope=https://www.googleapis.com/auth/gmail.modify%20https://www.googleapis.com/auth/gmail.send HTTP/1.1" 200 65
2025-06-25 17:14:56 - INFO - "GET /?state=M52s4naHbg9cLJciJDsXxnW0r2DzlA&code=4/0AVMBsJgQr6hqoIoU7oR114rp5ouSfJ1pv_eRzxN8acl0Q__Oz7OerD6d_A_A_r5ZzajKOA&scope=https://www.googleapis.com/auth/gmail.modify%20https://www.googleapis.com/auth/gmail.send HTTP/1.1" 200 65
2025-06-25 17:14:56 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:14:56 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:14:56 - INFO - Fetching unread messages...
2025-06-25 17:14:56 - INFO - Fetching unread messages...
2025-06-25 17:14:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:14:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:14:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:14:56 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:14:56 - INFO - Retrieved 2 unread emails.
2025-06-25 17:14:56 - INFO - Retrieved 2 unread emails.
2025-06-25 17:15:02 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f1b7f3aaa4a
2025-06-25 17:15:02 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f1b7f3aaa4a
2025-06-25 17:15:02 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:15:02 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:15:04 - WARNING - Encountered 403 Forbidden with reason "forbidden"
2025-06-25 17:15:04 - WARNING - Encountered 403 Forbidden with reason "forbidden"
2025-06-25 17:15:04 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a44ff76d147/messages/197a8a44ff76d147/modify?alt=json returned "Invalid user id specified in request/Delegation denied". Details: "[{'message': 'Invalid user id specified in request/Delegation denied', 'domain': 'global', 'reason': 'forbidden'}]">
2025-06-25 17:15:04 - ERROR - Failed to mark message 197a8a44ff76d147 as read: <HttpError 403 when requesting https://gmail.googleapis.com/gmail/v1/users/197a8a44ff76d147/messages/197a8a44ff76d147/modify?alt=json returned "Invalid user id specified in request/Delegation denied". Details: "[{'message': 'Invalid user id specified in request/Delegation denied', 'domain': 'global', 'reason': 'forbidden'}]">
2025-06-25 17:16:07 - INFO - Email send cancelled by user.
2025-06-25 17:16:07 - INFO - Email send cancelled by user.
2025-06-25 17:16:08 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:08 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:08 - INFO - Fetching unread messages...
2025-06-25 17:16:08 - INFO - Fetching unread messages...
2025-06-25 17:16:09 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:09 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:09 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:09 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:09 - INFO - Retrieved 2 unread emails.
2025-06-25 17:16:09 - INFO - Retrieved 2 unread emails.
2025-06-25 17:16:10 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f2bce82ec0e
2025-06-25 17:16:10 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f2bce82ec0e
2025-06-25 17:16:10 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:16:10 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:16:10 - INFO - Marked message 197a8a44ff76d147 as read.
2025-06-25 17:16:10 - INFO - Marked message 197a8a44ff76d147 as read.
2025-06-25 17:16:12 - INFO - Email send cancelled by user.
2025-06-25 17:16:12 - INFO - Email send cancelled by user.
2025-06-25 17:16:24 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:24 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:24 - INFO - Fetching unread messages...
2025-06-25 17:16:24 - INFO - Fetching unread messages...
2025-06-25 17:16:24 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:24 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-06-25 17:16:24 - INFO - Retrieved 1 unread emails.
2025-06-25 17:16:24 - INFO - Retrieved 1 unread emails.
2025-06-25 17:16:28 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f305c369ba6
2025-06-25 17:16:28 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197a8f305c369ba6
2025-06-25 17:16:28 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:16:28 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-06-25 17:16:28 - INFO - Marked message 197a8a38fe8d6661 as read.
2025-06-25 17:16:28 - INFO - Marked message 197a8a38fe8d6661 as read.
2025-06-25 17:16:30 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:30 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-06-25 17:16:30 - INFO - Fetching unread messages...
2025-06-25 17:16:30 - INFO - Fetching unread messages...
2025-06-25 17:16:30 - INFO - No unread messages found.
2025-06-25 17:16:30 - INFO - No unread messages found.
2025-06-25 17:16:30 - INFO - No unread emails found.
2025-06-25 17:16:30 - INFO - No unread emails found.
2025-07-01 13:46:05 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:46:05 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:46:05 - ERROR - Error reading emails: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:46:05 - ERROR - Error reading emails: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 12, in test_read_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:46:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:46:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:46:55 - INFO - Fetching unread messages...
2025-07-01 13:46:55 - INFO - Fetching unread messages...
2025-07-01 13:46:55 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:46:55 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:46:55 - INFO - Retrieved 1 unread emails.
2025-07-01 13:46:55 - INFO - Retrieved 1 unread emails.
2025-07-01 13:46:55 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 34, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:46:55 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 34, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:47:18 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:47:18 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:47:18 - INFO - Fetching unread messages...
2025-07-01 13:47:18 - INFO - Fetching unread messages...
2025-07-01 13:47:19 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:47:19 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:47:19 - INFO - Retrieved 1 unread emails.
2025-07-01 13:47:19 - INFO - Retrieved 1 unread emails.
2025-07-01 13:47:19 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 34, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:47:19 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 34, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:48:29 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:48:29 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:48:29 - INFO - Fetching unread messages...
2025-07-01 13:48:29 - INFO - Fetching unread messages...
2025-07-01 13:48:30 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:48:30 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:48:30 - INFO - Retrieved 1 unread emails.
2025-07-01 13:48:30 - INFO - Retrieved 1 unread emails.
2025-07-01 13:48:30 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 33, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:48:30 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 33, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:49:31 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:49:31 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:49:31 - INFO - Fetching unread messages...
2025-07-01 13:49:31 - INFO - Fetching unread messages...
2025-07-01 13:49:32 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:49:32 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:49:32 - INFO - Retrieved 1 unread emails.
2025-07-01 13:49:32 - INFO - Retrieved 1 unread emails.
2025-07-01 13:49:32 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:49:32 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:50:37 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:50:37 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:50:37 - INFO - Fetching unread messages...
2025-07-01 13:50:37 - INFO - Fetching unread messages...
2025-07-01 13:50:38 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:50:38 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:50:38 - INFO - Retrieved 1 unread emails.
2025-07-01 13:50:38 - INFO - Retrieved 1 unread emails.
2025-07-01 13:50:38 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:50:38 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:51:00 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:51:00 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:51:00 - INFO - Fetching unread messages...
2025-07-01 13:51:00 - INFO - Fetching unread messages...
2025-07-01 13:51:01 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:51:01 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:51:01 - INFO - Retrieved 1 unread emails.
2025-07-01 13:51:01 - INFO - Retrieved 1 unread emails.
2025-07-01 13:51:01 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:51:01 - ERROR - Error sending email: Input 'snippet' should be a dictionary.
Traceback (most recent call last):
  File "/Users/aditya/Desktop/project/smolmail/main_service.py", line 38, in test_send_email
    agent = MailAgent()
  File "/Users/aditya/Desktop/project/smolmail/app/core/mail_agent.py", line 8, in __init__
    tools = [MailTool()]
             ~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 68, in new_init
    self.validate_arguments()
    ~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/aditya/Desktop/project/lib/python3.13/site-packages/smolagents/tools.py", line 147, in validate_arguments
    assert isinstance(input_content, dict), f"Input '{input_name}' should be a dictionary."
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
AssertionError: Input 'snippet' should be a dictionary.
2025-07-01 13:52:34 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:52:34 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:52:34 - INFO - Fetching unread messages...
2025-07-01 13:52:34 - INFO - Fetching unread messages...
2025-07-01 13:52:35 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:52:35 - INFO - Read message: Subject='', From='customer1.becton@gmail.com'
2025-07-01 13:52:35 - INFO - Retrieved 1 unread emails.
2025-07-01 13:52:35 - INFO - Retrieved 1 unread emails.
2025-07-01 13:52:39 - INFO - AI Response: Thank you for your message. Our team is currently reviewing your message and will get back to you shortly. If you have any more questions or details to share, please feel free to.
2025-07-01 13:52:39 - INFO - AI Response: Thank you for your message. Our team is currently reviewing your message and will get back to you shortly. If you have any more questions or details to share, please feel free to.
2025-07-01 13:53:14 - INFO - Email sent to customer1.becton@gmail.com | Message ID: 197c71f1ec43d7b8
2025-07-01 13:53:14 - INFO - Email sent to customer1.becton@gmail.com | Message ID: 197c71f1ec43d7b8
2025-07-01 13:53:14 - INFO - Email sent successfully to customer1.becton@gmail.com.
2025-07-01 13:53:14 - INFO - Email sent successfully to customer1.becton@gmail.com.
2025-07-01 13:53:15 - INFO - Marked message 197ac5edcb68e957 as read.
2025-07-01 13:53:15 - INFO - Marked message 197ac5edcb68e957 as read.
2025-07-01 13:53:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:53:55 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:53:55 - INFO - Fetching unread messages...
2025-07-01 13:53:55 - INFO - Fetching unread messages...
2025-07-01 13:53:55 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 13:53:55 - INFO - Read message: Subject='Re: AI Test Email via gmail_service', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 13:53:55 - INFO - Retrieved 1 unread emails.
2025-07-01 13:53:55 - INFO - Retrieved 1 unread emails.
2025-07-01 13:54:00 - INFO - AI Response: Thank you for your message. Regarding: 'ALright On Wed, Jun 25, 2025 at 3:50 PM &lt;ai.becton. 0@gmail. com&gt; wrote: This is a test email sent using the new gmail_service module.', I will get back to you shortly.
2025-07-01 13:54:00 - INFO - AI Response: Thank you for your message. Regarding: 'ALright On Wed, Jun 25, 2025 at 3:50 PM &lt;ai.becton. 0@gmail. com&gt; wrote: This is a test email sent using the new gmail_service module.', I will get back to you shortly.
2025-07-01 13:54:17 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c72015de4819e
2025-07-01 13:54:17 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c72015de4819e
2025-07-01 13:54:17 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 13:54:17 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 13:54:18 - INFO - Marked message 197a8a44ff76d147 as read.
2025-07-01 13:54:18 - INFO - Marked message 197a8a44ff76d147 as read.
2025-07-01 13:55:14 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:14 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:14 - INFO - Fetching unread messages...
2025-07-01 13:55:14 - INFO - Fetching unread messages...
2025-07-01 13:55:14 - INFO - No unread messages found.
2025-07-01 13:55:14 - INFO - No unread messages found.
2025-07-01 13:55:14 - INFO - No unread emails found.
2025-07-01 13:55:14 - INFO - No unread emails found.
2025-07-01 13:55:17 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:17 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:17 - INFO - Fetching unread messages...
2025-07-01 13:55:17 - INFO - Fetching unread messages...
2025-07-01 13:55:17 - INFO - No unread messages found.
2025-07-01 13:55:17 - INFO - No unread messages found.
2025-07-01 13:55:17 - INFO - No unread emails found.
2025-07-01 13:55:17 - INFO - No unread emails found.
2025-07-01 13:55:32 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:32 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 13:55:32 - INFO - Fetching unread messages...
2025-07-01 13:55:32 - INFO - Fetching unread messages...
2025-07-01 13:55:32 - INFO - Read message: Subject='General Questioning', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 13:55:32 - INFO - Read message: Subject='General Questioning', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 13:55:32 - INFO - Retrieved 1 unread emails.
2025-07-01 13:55:32 - INFO - Retrieved 1 unread emails.
2025-07-01 13:55:34 - INFO - AI Response: Thank you for your message. Regarding your request for an update on the current status of the company, I will get back to you shortly.
2025-07-01 13:55:34 - INFO - AI Response: Thank you for your message. Regarding your request for an update on the current status of the company, I will get back to you shortly.
2025-07-01 13:55:41 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c721592ac2685
2025-07-01 13:55:41 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c721592ac2685
2025-07-01 13:55:41 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 13:55:41 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 13:55:41 - INFO - Marked message 197c721116ba86f6 as read.
2025-07-01 13:55:41 - INFO - Marked message 197c721116ba86f6 as read.
2025-07-01 14:01:33 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:01:33 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:01:33 - INFO - Fetching unread messages...
2025-07-01 14:01:33 - INFO - Fetching unread messages...
2025-07-01 14:01:34 - INFO - No unread messages found.
2025-07-01 14:01:34 - INFO - No unread messages found.
2025-07-01 14:01:34 - INFO - No unread emails found.
2025-07-01 14:01:34 - INFO - No unread emails found.
2025-07-01 14:02:22 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:22 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:22 - INFO - Fetching unread messages...
2025-07-01 14:02:22 - INFO - Fetching unread messages...
2025-07-01 14:02:22 - INFO - No unread messages found.
2025-07-01 14:02:22 - INFO - No unread messages found.
2025-07-01 14:02:22 - INFO - No unread emails found.
2025-07-01 14:02:22 - INFO - No unread emails found.
2025-07-01 14:02:27 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:27 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:27 - INFO - Fetching unread messages...
2025-07-01 14:02:27 - INFO - Fetching unread messages...
2025-07-01 14:02:27 - INFO - No unread messages found.
2025-07-01 14:02:27 - INFO - No unread messages found.
2025-07-01 14:02:27 - INFO - No unread emails found.
2025-07-01 14:02:27 - INFO - No unread emails found.
2025-07-01 14:02:42 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:42 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:02:42 - INFO - Fetching unread messages...
2025-07-01 14:02:42 - INFO - Fetching unread messages...
2025-07-01 14:02:43 - INFO - Read message: Subject='asa', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:02:43 - INFO - Read message: Subject='asa', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:02:44 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:02:44 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:02:44 - INFO - Retrieved 2 unread emails.
2025-07-01 14:02:44 - INFO - Retrieved 2 unread emails.
2025-07-01 14:02:47 - INFO - AI Response: Thank you for your message. Regarding: 'sas Hello', I will get back to you shortly.
2025-07-01 14:02:47 - INFO - AI Response: Thank you for your message. Regarding: 'sas Hello', I will get back to you shortly.
2025-07-01 14:03:20 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c7285b5594a64
2025-07-01 14:03:20 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c7285b5594a64
2025-07-01 14:03:20 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 14:03:20 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 14:03:20 - INFO - Marked message 197c7279df559e99 as read.
2025-07-01 14:03:20 - INFO - Marked message 197c7279df559e99 as read.
2025-07-01 14:03:22 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:03:22 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:03:25 - INFO - Email send cancelled by user.
2025-07-01 14:03:25 - INFO - Email send cancelled by user.
2025-07-01 14:04:34 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:04:34 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:04:34 - INFO - Fetching unread messages...
2025-07-01 14:04:34 - INFO - Fetching unread messages...
2025-07-01 14:04:35 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:04:35 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:04:35 - INFO - Retrieved 1 unread emails.
2025-07-01 14:04:35 - INFO - Retrieved 1 unread emails.
2025-07-01 14:04:37 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:04:37 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:04:42 - INFO - Email send cancelled by user.
2025-07-01 14:04:42 - INFO - Email send cancelled by user.
2025-07-01 14:04:54 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:04:54 - INFO - file_cache is only supported with oauth2client<4.0.0
2025-07-01 14:04:54 - INFO - Fetching unread messages...
2025-07-01 14:04:54 - INFO - Fetching unread messages...
2025-07-01 14:04:54 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:04:54 - INFO - Read message: Subject='sadas', From='Customer1 <customer1.becton@gmail.com>'
2025-07-01 14:04:54 - INFO - Retrieved 1 unread emails.
2025-07-01 14:04:54 - INFO - Retrieved 1 unread emails.
2025-07-01 14:04:56 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:04:56 - INFO - AI Response: Thank you for your message. Regarding: 'HELLOW WOLAjsa', I will get back to you shortly.
2025-07-01 14:05:03 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c729ed8982c42
2025-07-01 14:05:03 - INFO - Email sent to Customer1 <customer1.becton@gmail.com> | Message ID: 197c729ed8982c42
2025-07-01 14:05:03 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 14:05:03 - INFO - Email sent successfully to Customer1 <customer1.becton@gmail.com>.
2025-07-01 14:05:03 - INFO - Marked message 197c7279d04e75e2 as read.
2025-07-01 14:05:03 - INFO - Marked message 197c7279d04e75e2 as read.
